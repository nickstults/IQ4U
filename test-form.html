document.getElementById("quote-form").addEventListener("submit", async function(event) {
  event.preventDefault();

  // Collect the form data
  const data = {
    first_name: document.querySelector('input[name="first_name"]').value,
    last_name: document.querySelector('input[name="last_name"]').value,
    zip: document.querySelector('input[name="zip"]').value,
    address: document.querySelector('input[name="address"]').value,
    email: document.querySelector('input[name="email"]').value,
    Primary_Phone: document.querySelector('input[name="Primary_Phone"]').value,
    dob_year: document.querySelector('input[name="dob_year"]').value,
    dob_month: document.querySelector('input[name="dob_month"]').value,
    dob_day: document.querySelector('input[name="dob_day"]').value,
    consent: document.getElementById("consent").checked,
  };

  try {
    // Send the form data to your backend server
    const response = await fetch('/submit-lead', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(data),
    });

    const result = await response.json();

    if (response.ok) {
      alert("Thank you! Your info has been submitted.");
    } else {
      alert("There was an error submitting your info. Please try again.");
    }
  } catch (error) {
    console.error("Error:", error);
    alert("Network error. Please try again.");
  }
});
